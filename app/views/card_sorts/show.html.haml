%h1
  = @card_sort.name
  %small
    &nbsp;&mdash;&nbsp;
    A Card Sort Study

= simple_form_for @card_sort_result do |f|
  %p
    %a{ data: { toggle: 'collapse' }, href: '#candidateDetails', aria: { expanded: :false, controls: 'candidateDetails' } }
      Candidate Details
      &nbsp;
      %i.fa.fa-caret-right

  #candidateDetails.collapse
    .allCandidates
      - if f.object.card_sort_candidates && f.object.card_sort_candidates.count > 0
        %label Candidates
        - f.object.card_sort_candidates.each do |card|
          = f.input :card_sort_candidates, as: :string, input_html: { name: 'card_sort_result[card_sort_candidates][]', class: 'candidate' }, label: false
      - else
        = f.input :card_sort_candidates, as: :string, input_html: { name: 'card_sort_result[card_sort_candidates][]', class: 'candidate' }, label: 'Candidates'
    .form-group
      %button.addCandidate.btn.btn-success{ type: 'button' }
        %i.fa.fa-plus &nbsp;
        Add Candidate

  = f.input :card_sort_id, as: :hidden, input_html: { value: @card_sort.id }
  = f.input :result, as: :hidden, input_html: { id: 'result' }
  .form-group
    = f.button :submit, class: 'btn-danger', disabled: true, id: 'create-card-sort'

.actions.btn-group
  %button#addGroup.btn.btn-default{ type: 'button' } Add Group

.notification.alert-info
  %p Drag cards to the group, or back again if need be
#cardSortContainer
  #cardContainer
    - @card_sort.cards.each do |card|
      .card
        %p.label= card["label"]

  #groupContainer
    .group
      .label
        %i.fa.fa-arrows &nbsp;
        %span{ contentEditable: true } Click here to edit title

      .items